<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="extension trait for writers implementing io::Write to allow them to write the primitive values for bin_prot"><meta name="keywords" content="rust, rustlang, rust-lang, WriteBinProtExt"><title>WriteBinProtExt in bin_prot - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../bin_prot/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../bin_prot/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">WriteBinProtExt</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><ul><li><a href="#method.bin_write_bool">bin_write_bool</a></li><li><a href="#method.bin_write_char">bin_write_char</a></li><li><a href="#method.bin_write_float32">bin_write_float32</a></li><li><a href="#method.bin_write_float64">bin_write_float64</a></li><li><a href="#method.bin_write_integer">bin_write_integer</a></li><li><a href="#method.bin_write_nat0">bin_write_nat0</a></li><li><a href="#method.bin_write_polyvar_tag">bin_write_polyvar_tag</a></li><li><a href="#method.bin_write_unit">bin_write_unit</a></li><li><a href="#method.bin_write_variant_index">bin_write_variant_index</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In bin_prot</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../bin_prot/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="index.html">bin_prot</a>::<wbr><a class="trait" href="#">WriteBinProtExt</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#13-128">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait WriteBinProtExt: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> {
    fn <a href="#method.bin_write_unit" class="fnname">bin_write_unit</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_bool" class="fnname">bin_write_bool</a>(&amp;mut self, b: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_char" class="fnname">bin_write_char</a>(&amp;mut self, c: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.char.html">char</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_integer" class="fnname">bin_write_integer</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;&gt;(&amp;mut self, n: T) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_nat0" class="fnname">bin_write_nat0</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;(&amp;mut self, n: T) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_float32" class="fnname">bin_write_float32</a>(&amp;mut self, f: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_float64" class="fnname">bin_write_float64</a>(&amp;mut self, f: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_variant_index" class="fnname">bin_write_variant_index</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.bin_write_polyvar_tag" class="fnname">bin_write_polyvar_tag</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>extension trait for writers implementing io::Write to allow them to write
the primitive values for bin_prot</p>
</div></details><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.bin_write_unit" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#15-17">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_unit" class="fnname">bin_write_unit</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a unit</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_bool" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#20-22">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_bool" class="fnname">bin_write_bool</a>(&amp;mut self, b: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a bool</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_char" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#25-28">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_char" class="fnname">bin_write_char</a>(&amp;mut self, c: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.char.html">char</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a single char character</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_integer" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#31-71">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_integer" class="fnname">bin_write_integer</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;&gt;(&amp;mut self, n: T) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a variable length integer</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_nat0" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#80-97">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_nat0" class="fnname">bin_write_nat0</a>&lt;T:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;(&amp;mut self, n: T) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>bin_prot also supports a slightly different encoding called Nat0
This is an unsigned integer type that is used internally by the protocol
for storing sizes of lists etc.
&lt;  0x000000080  -&gt;  lower 8 bits of the integer                     (1 byte)
&lt;  0x000010000  -&gt;  CODE_INT16 followed by lower 16 bits of integer (3 bytes)
&lt;  0x100000000  -&gt;  CODE_INT32 followed by lower 32 bits of integer (5 bytes)
&gt;= 0x100000000  -&gt;  CODE_INT64 followed by all 64 bits of integer   (9 bytes)</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_float32" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#100-102">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_float32" class="fnname">bin_write_float32</a>(&amp;mut self, f: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f32.html">f32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a float</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_float64" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#105-107">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_float64" class="fnname">bin_write_float64</a>(&amp;mut self, f: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>Write a 64 bit float</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_variant_index" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#119-121">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_variant_index" class="fnname">bin_write_variant_index</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>for enums/variants with n variants the variant index
is written out as follows:
n &lt;= 256    -&gt;  write out lower 8 bits of n  (1 byte)
n &lt;= 65536  -&gt;  write out lower 16 bits of n (2 bytes)
WARNING: This does not implement the requirement above
It is tricky to determine how many variants an enum has at runtime
and therfore to know which of the above cases to use
This assumes all enums have &lt; 256 variants
This probably catches 99% of cases but is not strictly
in compliance with the protocol</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.bin_write_polyvar_tag" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#125-127">source</a></div><h4 class="code-header">fn <a href="#method.bin_write_polyvar_tag" class="fnname">bin_write_polyvar_tag</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/io/error/struct.Error.html" title="struct std::io::error::Error">Error</a>&gt;</h4></div></summary><div class="docblock"><p>For Polyvar types write the 4 bytes of the tag/hash for a variant
You can convert between ocaml native integer using (x &gt;&gt; 1)</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-WriteBinProtExt-for-W" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/bin_prot/write_ext.rs.html#132">source</a></span><a href="#impl-WriteBinProtExt-for-W" class="anchor"></a><h3 class="code-header in-band">impl&lt;W:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.WriteBinProtExt.html" title="trait bin_prot::WriteBinProtExt">WriteBinProtExt</a> for W</h3></section><div class="docblock"><p>All types that implement <code>Write</code> get methods defined in <code>WriteBinProtIntegerExt</code>
for free.</p>
</div></div><script type="text/javascript" src="../implementors/bin_prot/write_ext/trait.WriteBinProtExt.js" data-ignore-extern-crates="" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="bin_prot" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0-nightly (f8588549c 2022-07-18)" ></div>
</body></html>