# Prerequisites

```
cargo install wasm-pack
```

# Commands

- Start [proxy node](https://github.com/ChainSafe/mina-rs/tree/main/apps/mvp-proxy)

  ```
  cd apps/mvp-proxy
  go mod vendor
  go run .
  ```

- Run

  ```
  yarn
  yarn build
  yarn start
  ```

- Copy & paste peer address that `proxy` prints on console into the web gui at http://localhost:1234/

```
proxyHost: /ip4/127.0.0.1/tcp/23333/ws/p2p/12D3KooWBJS5MW5tY93UgKvQ9KKzd4s4SRHEZoUsv7frvcAZKaQt
```

- Click on connect

# Notes

- `mvp-proxy` is used as a proxy that exposes websocket endpoint before websocket is enabled for mina nodes. It's not required for long term solutions

- `transform.js` is used to post process wasm bundle generated by `wasm-pack` to make current bundler happy, further investigation needed to replace it with some more elegant solution

- RSA identity is [not supported](https://github.com/libp2p/rust-libp2p/blob/a168410dbed0d0941f2e5a14543206044ccb2260/core/src/identity.rs#L70) in wasm build, use Ed25519 or Secp256k1 instead

  ```rust
  #[derive(Clone)]
  pub enum Keypair {
      /// An Ed25519 keypair.
      Ed25519(ed25519::Keypair),
      #[cfg(not(target_arch = "wasm32"))]
      /// An RSA keypair.
      Rsa(rsa::Keypair),
      /// A Secp256k1 keypair.
      #[cfg(feature = "secp256k1")]
      Secp256k1(secp256k1::Keypair),
  }
  ```
